# API Dashboard Service

μ¤‘μ•™μ§‘μ¤‘μ‹ API λ¨λ‹ν„°λ§ λ€μ‹λ³΄λ“ μ„λΉ„μ¤μ…λ‹λ‹¤. Kubernetes ν΄λ¬μ¤ν„°μ—μ„ μ‹¤ν–‰λλ” λ¨λ“  λ§μ΄ν¬λ΅μ„λΉ„μ¤λ¥Ό λ¨λ‹ν„°λ§ν•κ³  μƒνƒλ¥Ό μ‹κ°ν™”ν•©λ‹λ‹¤.

## π“‹ κΈ°λ¥

- **μ‹¤μ‹κ°„ μ„λΉ„μ¤ μƒνƒ λ¨λ‹ν„°λ§**: κ° API μ„λΉ„μ¤μ ν—¬μ¤μ²΄ν¬ λ° μƒνƒ ν™•μΈ
- **μ„λΉ„μ¤ λ””μ¤μ»¤λ²„λ¦¬**: Kubernetesμ—μ„ μλ™μΌλ΅ μ„λΉ„μ¤ κ²€μƒ‰
- **API μ—”λ“ν¬μΈνΈ λ¨λ‹ν„°λ§**: κ° μ„λΉ„μ¤μ API μ—”λ“ν¬μΈνΈ μƒνƒ ν™•μΈ
- **μ„±λ¥ λ©”νΈλ¦­**: μ‘λ‹µ μ‹κ°„, μ—λ¬μ¨, μ”μ²­ μ λ“± λ¨λ‹ν„°λ§
- **μ›Ή λ€μ‹λ³΄λ“**: Flet κΈ°λ° μΈν„°λ™ν‹°λΈ μ›Ή UI
- **μ‹¤μ‹κ°„ μ—…λ°μ΄νΈ**: μλ™ μƒλ΅κ³ μΉ¨ κΈ°λ¥

## π€ λ¨λ‹ν„°λ§ λ€μƒ μ„λΉ„μ¤

- aggregation-service
- alert-service
- alert-history-service
- location-service
- realtime-service
- thresholds-service

## π“ λ””λ ‰ν† λ¦¬ κµ¬μ΅°

```
api-dashboard-service/
β”β”€β”€ app/
β”‚   β”β”€β”€ __init__.py
β”‚   β”β”€β”€ main.py                 # FastAPI μ• ν”λ¦¬μΌ€μ΄μ… μ§„μ…μ 
β”‚   β”β”€β”€ api/
β”‚   β”‚   β”β”€β”€ __init__.py
β”‚   β”‚   β””β”€β”€ routes/
β”‚   β”‚       β”β”€β”€ __init__.py
β”‚   β”‚       β”β”€β”€ dashboard.py    # λ€μ‹λ³΄λ“ API μ—”λ“ν¬μΈνΈ
β”‚   β”‚       β”β”€β”€ services.py     # μ„λΉ„μ¤ μƒνƒ API
β”‚   β”‚       β””β”€β”€ metrics.py      # λ©”νΈλ¦­ API
β”‚   β”β”€β”€ core/
β”‚   β”‚   β”β”€β”€ __init__.py
β”‚   β”‚   β”β”€β”€ config.py           # μ„¤μ • κ΄€λ¦¬
β”‚   β”‚   β”β”€β”€ logging_config.py   # λ΅κΉ… μ„¤μ •
β”‚   β”‚   β””β”€β”€ kubernetes.py       # k8s ν΄λΌμ΄μ–ΈνΈ
β”‚   β”β”€β”€ models/
β”‚   β”‚   β”β”€β”€ __init__.py
β”‚   β”‚   β”β”€β”€ service.py          # μ„λΉ„μ¤ λ¨λΈ
β”‚   β”‚   β””β”€β”€ metric.py           # λ©”νΈλ¦­ λ¨λΈ
β”‚   β”β”€β”€ services/
β”‚   β”‚   β”β”€β”€ __init__.py
β”‚   β”‚   β”β”€β”€ dashboard.py        # Flet λ€μ‹λ³΄λ“
β”‚   β”‚   β”β”€β”€ monitor.py          # μ„λΉ„μ¤ λ¨λ‹ν„°λ§
β”‚   β”‚   β””β”€β”€ discovery.py        # μ„λΉ„μ¤ λ””μ¤μ»¤λ²„λ¦¬
β”β”€β”€ tests/
β”β”€β”€ Dockerfile
β”β”€β”€ requirements.txt
β”β”€β”€ env.example
β””β”€β”€ README.md
```

## π› οΈ μ„¤μΉ λ° μ‹¤ν–‰

### λ΅μ»¬ κ°λ° ν™κ²½

```bash
# μμ΅΄μ„± μ„¤μΉ
pip install -r requirements.txt

# ν™κ²½ λ³€μ μ„¤μ •
cp env.example .env
# .env νμΌμ„ νΈμ§‘ν•μ—¬ ν•„μ”ν• μ„¤μ • μ¶”κ°€

# κ°λ° μ„λ²„ μ‹¤ν–‰
uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload
```

### Docker μ‹¤ν–‰

```bash
# Docker μ΄λ―Έμ§€ λΉλ“
docker build -t api-dashboard-service .

# μ»¨ν…μ΄λ„ μ‹¤ν–‰
docker run -p 8000:8000 -p 8080:8080 api-dashboard-service
```

### Kubernetes λ°°ν¬

```bash
kubectl apply -f ../k8s/api-dashboard/
```

## π μ ‘κ·Ό λ°©λ²•

- **API λ¬Έμ„**: http://localhost:8000/docs
- **λ€μ‹λ³΄λ“ UI**: http://localhost:8080
- **ν—¬μ¤μ²΄ν¬**: http://localhost:8000/health
- **λ©”νΈλ¦­**: http://localhost:8000/metrics

## π“ API μ—”λ“ν¬μΈνΈ

### λ€μ‹λ³΄λ“ API
- `GET /api/v1/dashboard/services` - λ¨λ“  μ„λΉ„μ¤ μƒνƒ μ΅°ν
- `GET /api/v1/dashboard/overview` - λ€μ‹λ³΄λ“ κ°μ” μ •λ³΄

### μ„λΉ„μ¤ λ¨λ‹ν„°λ§ API
- `GET /api/v1/services` - λ¨λ‹ν„°λ§ λ€μƒ μ„λΉ„μ¤ λ©λ΅
- `GET /api/v1/services/{service_name}/status` - νΉμ • μ„λΉ„μ¤ μƒνƒ
- `GET /api/v1/services/{service_name}/health` - νΉμ • μ„λΉ„μ¤ ν—¬μ¤μ²΄ν¬

### λ©”νΈλ¦­ API
- `GET /api/v1/metrics/overview` - μ „μ²΄ λ©”νΈλ¦­ κ°μ”
- `GET /api/v1/metrics/{service_name}` - νΉμ • μ„λΉ„μ¤ λ©”νΈλ¦­

## π”§ ν™κ²½ λ³€μ

μ£Όμ” ν™κ²½ λ³€μλ” `env.example` νμΌμ„ μ°Έμ΅°ν•μ„Έμ”.

## π“ λ¨λ‹ν„°λ§ κΈ°λ¥

1. **μ„λΉ„μ¤ μƒνƒ**: κ° μ„λΉ„μ¤μ μ¨λΌμΈ/μ¤ν”„λΌμΈ μƒνƒ
2. **API μ—”λ“ν¬μΈνΈ**: κ° μ„λΉ„μ¤μ μ£Όμ” API μ—”λ“ν¬μΈνΈ μƒνƒ
3. **μ„±λ¥ λ©”νΈλ¦­**: μ‘λ‹µ μ‹κ°„, μ²λ¦¬λ‰, μ—λ¬μ¨
4. **λ¦¬μ†μ¤ λ¨λ‹ν„°λ§**: CPU, λ©”λ¨λ¦¬ μ‚¬μ©λ¥  (κ°€λ¥ν• κ²½μ°)
5. **μ•λ¦Ό**: μ„λΉ„μ¤ μ¥μ•  μ‹ μ•λ¦Ό (ν–¥ν›„ κµ¬ν„)

## π€ ν–¥ν›„ κ°μ„  μ‚¬ν•­

- [ ] μ‹¤μ‹κ°„ μ•λ¦Ό κΈ°λ¥
- [ ] νμ¤ν† λ¦¬ λ°μ΄ν„° μ €μ¥
- [ ] μ»¤μ¤ν…€ λ€μ‹λ³΄λ“ κµ¬μ„±
- [ ] μ„λΉ„μ¤λ³„ SLA λ¨λ‹ν„°λ§
- [ ] λ΅κ·Έ ν†µν•© λ·°μ–΄